#include "precomp.h"
#include "Stream.h"
#include "RealFile.h"

//=====================================================================================//
//                                  Stream::Stream()                                   //
//=====================================================================================//
Stream::Stream(RealFile *file)
:	m_file(file)
{
	m_stream = m_file->getStream();
	m_binstream.reset(new ibinstream(*m_stream));
	m_file->addRef();
}

//=====================================================================================//
//                                  Stream::Stream()                                   //
//=====================================================================================//
Stream::Stream(Stream &s)
:	m_file(s.m_file),
	m_stream(s.m_stream),
	m_binstream(s.m_binstream)
{
	m_file->addRef();
}

//=====================================================================================//
//                                  Stream::~Stream()                                  //
//=====================================================================================//
Stream::~Stream()
{
	m_file->release();
}

//=====================================================================================//
//                       const std::string &Stream::name() const                       //
//=====================================================================================//
const std::string &Stream::name() const
{
	return m_file->name();
}
